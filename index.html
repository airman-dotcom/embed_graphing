<!DOCTYPE html>
<html>
<style>
	body {
		background-color: white;
	}
</style>
<body>
	<canvas id="myChart" style="width:100%;max-width:700px"></canvas>

</body>
<script
src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js">
</script>
<script>
	const colors = ["blue", "red", "orange", "green", "yellow", "purple"]
	let func = window.location.search.split("=")[1]
	func = func.split(",")
	console.log(func)
	let lower = func[1]
	let upper = func[2]
	func.splice(1,2)
	function generate(f,a,b,step){
		let x_values = []
		let y_values = []
		for (let x = a;x<b;x+=step){
			x_values.push(x)
			y_values.push(eval(f))
		}
		return [x_values,y_values]
	}
	let x_values = []
	let y_values = []
	for (let i = 0; i<func.length;i++){
		if (func[i].length == 0) continue
		func[i] = func[i].replace("e", "Math.E")
		func[i] = func[i].replace("sin", "Math.sin")
		func[i] = func[i].replace("cos","Math.cos")
		func[i] = func[i].replace("tan", "Math.tan")
		let result = generate(func[i],parseInt(lower),parseInt(upper)+0.5,0.5)
		if (i == 0){
			x_values = result[0]
		}
		y_values.push({
			label: func[i],
			fill: false,
			pointRadius: 1,
			borderColor: colors[i],
			data: result[1]
		})
	}
	
new Chart("myChart", {
  type: "line",
  data: {
    labels: x_values,
    datasets: y_values
  },
  options: {}
});

</script>


</html>
